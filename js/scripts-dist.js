$(document).ready(function(){function e(){Modernizr.mq("(min-width: 590px)")||c.hasClass("active")?d.show():d.hide()}function i(){$(this).parent().find(".sod_list_wrapper").css("top",-$(this).parent().find(".sod_option.selected").position().top)}function t(){D.text(k.activeIndex+1+"/"+k.slides.length)}function n(){var e=$(".swiper-slide-active .a-review").height();$(".a-reviews-slider").css("height",e)}function s(){I.css({height:$(window).height()-o.height()})}FastClick.attach(document.body),$("input, textarea").placeholder(),$("input[type=tel]").mask("+9 (999) 999-99-99"),$("input[type=tel]").on("focus",function(){$(this).addClass("ie-tel")}),$("input[type=tel]").on("change keyup paste",function(){$(this).removeClass("ie-tel")}),$(".validate-form").validate({errorClass:"invalid",validClass:"valid",errorElement:"em",onfocusout:function(e){$(e).valid()},highlight:function(e,i,t){$(e).addClass(i).removeClass(t),$(e).parent().addClass(i).removeClass(t)},unhighlight:function(e,i,t){$(e).removeClass(i).addClass(t),$(e).parent().removeClass(i).addClass(t)},ignore:".ignore"});var a=$("input, textarea");a.on("focus blur",function(){$(this).val()?$(this).addClass("filled"):$(this).removeClass("filled")}),a.each(function(){$(this).val()?$(this).addClass("filled"):$(this).removeClass("filled")});var o=$("header"),l=$("#h-burger"),r=$("#h-burger-nav");l.on("click",function(){o.toggleClass("active"),$(this).toggleClass("active"),r.toggleClass("active")});var c=$("#m-burger"),d=$("#m-burger-nav");e(),c.on("click",function(){$(this).toggleClass("active"),d.slideToggle()}),$(window).on("resize",e);var h=$("main"),v=$("#m-aside-toggle"),g=$(".m-aside");v.on("click",function(){$(this).toggleClass("active"),g.toggleClass("hidden"),h.toggleClass("aside-yes aside-no")});var p=$(".m-header-sections").find("a.active"),m=$(".m-header-search-toggle");m.on("click",function(e){$(this).toggleClass("active"),p.toggleClass("inactive"),e.preventDefault()});var u=$(".nano");u.nanoScroller(),$(".wrapper select").selectOrDie({size:5,onChange:i}).each(i);var f=$(".m-filters-more"),C=$(".m-mobile-hidden");f.on("click",function(){$(this).toggleClass("active"),C.slideToggle(),$(this).text($(this).hasClass("active")?"Меньше параметров":"Больше параметров")}),$(window).on("resize",function(){Modernizr.mq("(min-width: 590px)")?(x.slideDown(),C.slideDown()):x.css("display","")});var w=$(".m-aside-tabs").find("a"),x=$(".m-aside-tabs-content");w.on("click",function(e){$(this).hasClass("active")?(w.removeClass("active"),x.slideUp()):($(this).addClass("active").siblings().removeClass("active"),x.slideUp(),$($(this).attr("href")).slideToggle()),e.preventDefault()});var b=$(".scroll-btn"),y=$("html, body");b.on("click",function(e){y.animate({scrollTop:$($(this).attr("href")).offset().top-100},300),e.preventDefault()});var k=new Swiper(".gallery-main",{resistanceRatio:.6,prevButton:".gallery-nav-btn-prev",nextButton:".gallery-nav-btn-next"}),z=$(".gallery-thumbs"),T=z.find(".thumb"),D=$(".gallery-counter");z.length&&(k.on("onSlideChangeStart",function(e){T.eq(k.activeIndex).addClass("active").siblings().removeClass("active"),z.stop().animate({scrollTop:T.eq(k.activeIndex).position().top-111},300),t()}),T.on("click",function(){var e=$(this).index();k.slideTo(e)}),t());var S=$("section").find("h2"),q=$("section").find(".s-content");Modernizr.mq("(min-width: 590px)")?q.show():q.hide(),S.on("click",function(){Modernizr.mq("(min-width: 590px)")||($(this).toggleClass("active"),$(this).next(".s-content").slideToggle())}),$(window).on("resize",function(){Modernizr.mq("(min-width: 590px)")?q.show():q.hide()}),$(".mfp-link").magnificPopup({removalDelay:300,midClick:!0,mainClass:"mfp-anim",overflowY:"scroll",fixedContentPos:!1});var M=$(".a-reviews-slider");new Swiper(".a-reviews-slider",{speed:500,loop:!0,prevButton:".a-reviews-nav-prev",nextButton:".a-reviews-nav-next",onInit:n,onSlideChangeStart:n});M.length&&$(window).on("resize",n);var I=$(".m-content-home");I.css("height",$(window).height()),s(),$(window).on("resize",s);var B=$(".m-hi-wrapper");$(window).on("scroll",function(){var e=$(this).scrollTop();e>=50?B.addClass("hidden"):B.removeClass("hidden")})});
